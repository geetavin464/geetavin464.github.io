---
layout: post
title:  "Docker"
date:   2015-04-07 18:41:32
categories: devops
description: features installation build process command and specs
---

* __Resources__ 
  * `https://github.com/wsargent/docker-cheat-sheet`

* __Installation__
  * `sudo apt-get update`
  * `curl -sSL https://get.docker.com/ | sh`
  * `docker -v`
  * `sudo usermod -aG docker ubuntu`
  * `docker ps -a`

* __Images__
  * An image could be a simple command or complex software that you could load(run on) into a container
  * Browse the docker hub for images
  * `docker images` - lists the images on your local system
  * If the image's source is changed on the hub, it is downloaded again

* __Build your own image - Dockerfile__
  * A dockerfile lets you create your own image
  * `touch Dockerfile`
  * `FROM docker/nginx:latest` - tells which image to base off of
  * `RUN apt-get prog1`
  * `CMD service nginx start` - run after the image is loaded

* __Build an Image__
  * `docker build -t my_img .`
  * Looks for the Dockerfile, builds an image called my_img from it

* __Run an Image__
  * `docker run my_img`
  * Runs the image into a container

* __Tag & push an image to the hub__
  * `docker tag img_id geetavin464/my_img:latest`
  * `docker login --username=uname --password=pw --email=email`
  * `docker push`

* __Remove images__
  * `docker rmi -f img_id`
  * `docker rmi -f img_name`

* __Pull Images__
  * `docker pull u_name/img_name`

* __Container__
  * Basic linux OS

* __Example__
  * `docker run hello-world`
  * Tells the OS to use the docker program
  * Looks for the `hello-world` image
  * Downloads it from the hub if not available locally
  * Runs it on the container

* __Steps__
  * Upgrade vagrant & vm
  * Create new vagrant ubuntu:14.04 box
  * `https://gist.github.com/learncodeacademy/5f84705f2229f14d758d`
  * Use `ubuntu/trusty64` vagrant box
  * In the new machine install docker

* __Commands__
  * `sudo usermod -aG docker vagrant`
  * `docker ps -a`
  * `docker run busybox` - Runs the busybox image into a container
  * `docker stop $cid`
  * `docker ps -q`
  * `docker rm name` - removes images
  * `docker images`
  * `docker inspect imgname`
  * `docker history`
  * `docker run -it -v vol1 /john1 myimg`
  * `docker search -s 10 ubuntu` - search for images with more than 10 stars
  * `docker pull ubuntu:14.04`
  * `docker pull ubuntu:trusty`

* __Deployments__
  * 