---
layout: post
title:  "Docker"
date:   2015-04-07 18:41:32
categories: Cheatsheets
published: false
---

* __Docker__
  * Easier deployments
  * proof of concept
  * Ruby Ready Docker Image
  * contains a set of files and folders that closely resemble a whole linux system

* __Why Docker__
  * Isolation
  * Portability
  * Replicability
  * Standardized Deployment
  * Docker File - specify the system, tools

* __how__
  * uses virtual box
  * boot2docker for mac os environments
  * `boot2docker init`
  * `boot2docker start`
  * This will run the virtual machine which contains docker inside
  * `docker ps` - lists the containers
  * You can also install docker on ubuntu using apt-get

* __A simple app__
  * `rails new dockerapp`
  * `bundle install`
  * `rails server`
  * `rails scaffold`
  * `rake db:migrate`
  * Use bootstrap to decorate it
  * Add some assets

* __Make it Production Ready__
  * Create a Dockerfile in the root of the app
  * Simple instructions to mount a fully operational linux system
  * `FROM ubuntu:utopic` - standard image : tag
  * `MAINTAINER Geeta Vinnakota <geetavin464@gmail.com>`
  * `RUN apt-get update -y`
  * `docker build .`
  * Works in steps
  * Hash key identifies the docker image just built
  * `docker ps` - lists the containers
  * `docker run hash_key`
  * `docker images`
  * Docker is non interactive. Only input is the file
  * Install packages mandatory for a ruby based environment
  * Docker is incremental
  * Install more packages and clean
  * `sudo apt-get clean`
  * Rm cache and tmp will significantly reduce filesize
  * Add user & switch to that user
  * So far we were using root user for operations
  * Install ruby
  * Add Start up scripts in the VM
  * Set environment variables
  * Execute the startup file
  * You can create multiple stage environments with multiple docker files
  * Better than capistrano

* __Terminology__
  * Database & App Containers
  * Data Container
  * 