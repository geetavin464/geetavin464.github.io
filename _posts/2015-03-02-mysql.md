---
layout: post
title:  "MySQL"
date:   2015-03-01 19:08:44
categories: database
description: Mysql queries and fundamental concepts
---

* __Configuration__
  * `/etc/my.cnf`
  * `/etc/mysql/my.cnf`

* __Standard Connection__
  * `mysql -h host -uusername -ppasswd`
  * `mysql -uusername -ppassword < filename` - Importing
  * `mysqldump -uusername -ppassword database [tables] > filename` - Dumping

* __Remote Connection__
  * `mysqld` - server process
  * `--skip-networking` - disables network connections
  * `3306` - default port
  * SSH Connection
    * involves a ssh host, which can be same as the mysql host
    * 

* __Basic__
  * `show databases`
  * `use database`
  * `show table`
  * `describe table`
  * `create database db1`
  * `drop database db1`
  * `history` - history of commands

* __Grants & Privileges__
  * `show grants;`
  * `show privileges;`
  * `show processlist;`

* __Query__
  * `select * from employees where first_name = "tom" ORDER BY field1 desc LIMIT 10`
  * `select * from employees where age > 25`
  * `select * from employees where first_name LIKE '%Robert%'`
  * `select * from employees where dob IS NULL`
  * `select * from employees where dob IS NOT NULL`
  * `select * from employees where first_name IN ("Tom", "Harry")` - check from array 
  * `select * from employees where first_name NOT IN ("Tom", "Harry")` - Inverse check from array
  * `AND  OR` to join the conditions
  * `select * from employees join deparments on employees.department_id = department.id'

* __Dates__
  * `select * from memberships where expiration_date > '2015-04-24';`
  * `select * from memberships where expiration_date > Now();`
  * `select * from memberships where expiration_date BETWEEN Now() and '2015-05-24';`

* __Design__
  * Foreign Key - If a key in a table, refers to a primary key of another table, its called foreign key
  * Example: Address table(per)

* __Data Manipulation__
  * `UPDATE employees SET street_address="40 prince ct" where first_name="Harry" and last_name="Emerson"`
  * `delete` vs `truncate` - truncate is faster

* __Optimization__
  * Check the slow_query.log
  * Use `explain` statement

* __Maintenance__
  * `mysqlheck -h host -u username -ppassword tables tablename --auto-repair`


